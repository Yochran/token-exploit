#pragma once

#ifndef GETFRIENDS_H
#define GETFRIENDS_H
#endif

#include <stdio.h>
#include <stdlib.h>
#include "../config.h"

/**
 * @brief Execute command
 * 
 * @param argc - argument count
 * @param argv - argument array
 */
void get_friends(int argc, char *argv[])
{
    // get url
    char url[] = "https://discordapp.com/api/v9/users/@me/relationships";

    // get command
    char command[4096];
    sprintf(command, "curl -H \"Authorization: %s\" \"%s\" >> friends.json", TOKEN, url);

    // run commands
    system(command);
    system("clear");

    // print
    printf("Successfully grabbed user's friends list and saved it to \"friends.json\".\nType 'list friends' to view file data.\n");
}